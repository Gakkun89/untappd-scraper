function shimImageUrl(e){if(e)return picture=e.replace("https://untappd.s3.amazonaws.com","https://untappd.akamaized.net"),picture}function slugify(e,a){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return""!==t?t:""==t&&"venue"==a?"venue-place":""==t&&"beer"==a?"beer":"brewery"}function shimVenueIcons(e,a){return e=(e=(e=shimImageUrl(e)).replace("/categories/","/categories_v2/")).replace("http://","https://"),"sm"==a||"md"==a?e.replace(".png","_bg_64.png"):"lg"==a?e.replace(".png","_bg_88.png"):void 0}function formatAddress(e){var a=e,t=_.filter([a.venue_city,a.venue_state]).join(", ");return a.venue_address+"  "+t}function trackMobileEvent(e){_gaq.push(["_trackEvent","Mobile Menu","Click",e])}$(document).ready((function(){var e=algoliasearch("9WBO4RQ3HO","1d347324d67ec472bb7132c66aead485"),a=e.initIndex("beer"),t=e.initIndex("brewery"),r=e.initIndex("venue");function s(e,a){return e.map((function(e,t){return e._position=t+1,e._queryID=a,e}))}autocomplete(".search-input-desktop",{},[{source:function(e,t){a.search(e,{hitsPerPage:3,clickAnalytics:!0,analytics:e.length>3}).then((function(e){var a=s(e.hits,e.queryID);e.hits=a,t(e.hits,e)}))},displayKey:function(e){return e.beer_name},templates:{header:function(e,a){return'<div class="ac_section">Beers ('+a.nbHits+")</div>"},footer:function(e,a){if(a.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(e.query)+'&type=beer" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Beers</a>'},suggestion:function(e){var a=slugify(e.brewery_name+" "+e.beer_name,"beer"),t=shimImageUrl(e.beer_label);return'<a href="/b/'+a+"/"+e.bid+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":beerlink">                     <p class="label">                      <img src="'+t+'">                     </p>                     <p class="info">                       <span class="title">'+e.beer_name+'</span>                       <span class="sub_title">'+e.brewery_name+"</span>                    </p>                   </a>"}}},{source:function(e,a){t.search(e,{hitsPerPage:3,clickAnalytics:!0,analytics:e.length>3}).then((function(e){var t=s(e.hits,e.queryID);e.hits=t,a(e.hits,e)}))},templates:{header:function(e,a){return'<div class="ac_section">Breweries ('+a.nbHits+")</div>"},footer:function(e,a){if(a.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(e.query)+'&type=brewery" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Breweries</a>'},suggestion:function(e){slugify(e.brewery_name,"brewery");var a=shimImageUrl(e.brewery_image);return'<a href="'+e.brewery_page_url+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":brewerylink">                   <p class="label">                     <img src="'+a+'">                   </p>                   <p class="info">                     <span class="title">'+e.brewery_name+'</span>                     <span class="sub_title">'+e.brewery_country+"</span>                   </p>                 </a>"}}},{source:function(e,a){r.search(e,{hitsPerPage:3,aroundRadius:"all",getRankingInfo:!0,clickAnalytics:!0,analytics:e.length>3,page:0,filters:"is_testing_venue:0 AND is_hidden:0",aroundLatLngViaIP:"true"}).then((function(e){var t=s(e.hits,e.queryID);e.hits=t,a(e.hits,e)}))},templates:{header:function(e,a){return'<div class="ac_section">Venues ('+a.nbHits+")</div>"},footer:function(e,a){if(a.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(e.query)+'&type=venues" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Venues</a>'},suggestion:function(e){var a=slugify(e.venue_name,"venue"),t=shimVenueIcons(e.venue_picture,"sm"),r='<a href="/v/'+a+"/"+e.venue_id+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":venuelink">                 <p class="label">                  <img src="'+t+'">                 </p>                 <p class="info">';return e.is_verified&&(r+='<span class="verified">Verified</span>'),r+='<span class="title">'+e.venue_name+'</span>                     <span class="sub_title">'+formatAddress(e)+"</span>",e.is_closed&&(r+="<span class='sub_title' style='margin-top: 2px; color: #FF3D3D; font-weight: 600;'>Closed</span></p>"),r+="</p></a>"}}}]).on("autocomplete:selected",(function(e,a){window.aa("click",{objectID:a.objectID,position:a._position,queryID:a._queryID})})),$(".track-focus").click((function(){var e=$(this).attr("data-track")+":"+$(this).attr("placeholder");_gaq.push(["_trackEvent","Search Focus","Click",e])})),$(document).on("click",".track-click",(function(){var e=$(this).attr("data-track");$(this).attr("data-href")&&(e+=$(this).attr("data-href")),_gaq.push(["_trackEvent","Click","Click",e])}))})),$(document).on("change",".track-change",(function(){var e=$(this).attr("data-track");$(this).attr("data-href")&&(":sort"==$(this).attr("data-href")?e=e+$(this).attr("data-href")+"/"+$(this).val():e+=$(this).attr("data-href")),_gaq.push(["_trackEvent","Click","Click",e])}));